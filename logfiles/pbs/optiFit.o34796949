nyx5563
/nfs/turbo/schloss-lab/sovacool/optiFit
Building DAG of jobs...
Files requested from subworkflow:
    results/silva/silva.bact_v4.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
    results/silva/silva.bact_full.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
    results/gg/gg.bact_v4.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
    results/gg/gg.bact_full.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
    results/rdp/rdp.bact_v4.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
    results/rdp/rdp.bact_full.filter.unique.precluster.opti_mcc.0.03.cons.taxonomy
Executing subworkflow prep_db.
Building DAG of jobs...
Checking status of 0 jobs.
Using shell: /usr/bin/bash
Provided cluster nodes: 5000
Unlimited resources: procs, walltime_hrs
Job counts:
	count	jobs
	6	calc_dists
	6	cluster
	4	filter
	6	get_otu_reps
	1	subset_regions
	23
Resources before job selection: {'_cores': 9223372036854775807, '_nodes': 5000}
Ready jobs (5):
	calc_dists
	filter
	subset_regions
	filter
	calc_dists
Selected jobs (5):
	calc_dists
	filter
	subset_regions
	filter
	calc_dists
Resources after job selection: {'_cores': 9223372036854775802, '_nodes': 4995}

[Wed Oct 23 15:08:20 2019]
rule calc_dists:
    input: data/silva/silva.bact_full.filter.unique.precluster.fasta
    output: results/silva/silva.bact_full.filter.unique.precluster.dist
    log: logfiles/silva/calc_dists.bact_full.log
    jobid: 17
    benchmark: benchmarks/silva/calc_dists.bact_full.txt
    wildcards: ref=silva, region=bact_full
    resources: procs=12, walltime_hrs=48

Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "calc_dists", "local": false, "input": ["data/silva/silva.bact_full.filter.unique.precluster.fasta"], "output": ["results/silva/silva.bact_full.filter.unique.precluster.dist"], "wildcards": {"ref": "silva", "region": "bact_full"}, "params": {}, "log": ["logfiles/silva/calc_dists.bact_full.log"], "threads": 1, "resources": {"procs": 12, "walltime_hrs": 48}, "jobid": 17, "cluster": {"account": "pschloss_fluxod", "queue": "fluxod", "jobname": "calc_dists.ref=silva,region=bact_full", "procs": "12", "pmem": "8GB", "walltime": "48:00:00", "email": "sovacool@umich.edu", "mailon": "a", "jobout": "oe", "outdir": "logfiles/pbs/"}}
cd /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db && \
/home/sovacool/bin/anaconda3/envs/optiFit/bin/python3.6 \
-m snakemake results/silva/silva.bact_full.filter.unique.precluster.dist --snakefile /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/Snakefile \
--force -j --keep-target-files --keep-remote \
--wait-for-files /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5 data/silva/silva.bact_full.filter.unique.precluster.fasta --latency-wait 20 \
 --attempt 1 --force-use-threads \
--wrapper-prefix None \
--directory /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db   --allowed-rules calc_dists --nocolor --notemp --no-hooks --nolock \
--mode 2  && touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/17.jobfinished" || (touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/17.jobfailed"; exit 1)

Submitted job 17 with external jobid '34797063.nyx.arc-ts.umich.edu'.

[Wed Oct 23 15:08:23 2019]
rule filter:
    input: data/rdp/rdp.bact_v4.fasta, data/rdp/rdp.bacteria.tax
    output: data/rdp/rdp.bact_v4.filter.fasta, data/rdp/rdp.bact_v4.filter.names, data/rdp/rdp.bact_v4.filter.unique.fasta, data/rdp/rdp.bact_v4.filter.unique.precluster.fasta, data/rdp/rdp.bact_v4.filter.unique.precluster.count_table, data/rdp/rdp.bact_v4.filter.unique.precluster.accnos, data/rdp/rdp.bacteria.bact_v4.precluster.tax
    log: logfiles/rdp/filter.bact_v4.log
    jobid: 7
    benchmark: benchmarks/rdp/filter.bact_v4.txt
    wildcards: ref=rdp, region=bact_v4
    resources: procs=2

Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "filter", "local": false, "input": ["data/rdp/rdp.bact_v4.fasta", "data/rdp/rdp.bacteria.tax"], "output": ["data/rdp/rdp.bact_v4.filter.fasta", "data/rdp/rdp.bact_v4.filter.names", "data/rdp/rdp.bact_v4.filter.unique.fasta", "data/rdp/rdp.bact_v4.filter.unique.precluster.fasta", "data/rdp/rdp.bact_v4.filter.unique.precluster.count_table", "data/rdp/rdp.bact_v4.filter.unique.precluster.accnos", "data/rdp/rdp.bacteria.bact_v4.precluster.tax"], "wildcards": {"ref": "rdp", "region": "bact_v4"}, "params": {"tax": "data/rdp/rdp.bacteria.pick.tax"}, "log": ["logfiles/rdp/filter.bact_v4.log"], "threads": 1, "resources": {"procs": 2}, "jobid": 7, "cluster": {"account": "pschloss_fluxod", "queue": "fluxod", "jobname": "filter.ref=rdp,region=bact_v4", "procs": "2", "pmem": "6GB", "walltime": "12:00:00", "email": "sovacool@umich.edu", "mailon": "a", "jobout": "oe", "outdir": "logfiles/pbs/"}}
cd /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db && \
/home/sovacool/bin/anaconda3/envs/optiFit/bin/python3.6 \
-m snakemake data/rdp/rdp.bact_v4.filter.unique.precluster.fasta --snakefile /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/Snakefile \
--force -j --keep-target-files --keep-remote \
--wait-for-files /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5 data/rdp/rdp.bact_v4.fasta data/rdp/rdp.bacteria.tax --latency-wait 20 \
 --attempt 1 --force-use-threads \
--wrapper-prefix None \
--directory /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db   --allowed-rules filter --nocolor --notemp --no-hooks --nolock \
--mode 2  && touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/7.jobfinished" || (touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/7.jobfailed"; exit 1)

Submitted job 7 with external jobid '34797065.nyx.arc-ts.umich.edu'.

[Wed Oct 23 15:08:25 2019]
rule subset_regions:
    input: data/gg/gg.bacteria.align
    output: data/gg/gg.bact_full.fasta, data/gg/gg.bact_v4.fasta
    log: logfiles/gg/subset_regions.log
    jobid: 26
    benchmark: benchmarks/gg/subset_regions.txt
    wildcards: ref=gg
    resources: procs=8

Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "subset_regions", "local": false, "input": ["data/gg/gg.bacteria.align"], "output": ["data/gg/gg.bact_full.fasta", "data/gg/gg.bact_v4.fasta"], "wildcards": {"ref": "gg"}, "params": {"screen": "data/gg/gg.bacteria.good.align", "pcr": "data/gg/gg.bacteria.pcr.align"}, "log": ["logfiles/gg/subset_regions.log"], "threads": 1, "resources": {"procs": 8}, "jobid": 26, "cluster": {"account": "pschloss_fluxod", "queue": "fluxod", "jobname": "subset_regions.ref=gg", "procs": "8", "pmem": "6GB", "walltime": "12:00:00", "email": "sovacool@umich.edu", "mailon": "a", "jobout": "oe", "outdir": "logfiles/pbs/"}}
cd /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db && \
/home/sovacool/bin/anaconda3/envs/optiFit/bin/python3.6 \
-m snakemake data/gg/gg.bact_v4.fasta --snakefile /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/Snakefile \
--force -j --keep-target-files --keep-remote \
--wait-for-files /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5 data/gg/gg.bacteria.align --latency-wait 20 \
 --attempt 1 --force-use-threads \
--wrapper-prefix None \
--directory /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db   --allowed-rules subset_regions --nocolor --notemp --no-hooks --nolock \
--mode 2  && touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/26.jobfinished" || (touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/26.jobfailed"; exit 1)

Submitted job 26 with external jobid '34797066.nyx.arc-ts.umich.edu'.

[Wed Oct 23 15:08:28 2019]
rule filter:
    input: data/rdp/rdp.bact_full.fasta, data/rdp/rdp.bacteria.tax
    output: data/rdp/rdp.bact_full.filter.fasta, data/rdp/rdp.bact_full.filter.names, data/rdp/rdp.bact_full.filter.unique.fasta, data/rdp/rdp.bact_full.filter.unique.precluster.fasta, data/rdp/rdp.bact_full.filter.unique.precluster.count_table, data/rdp/rdp.bact_full.filter.unique.precluster.accnos, data/rdp/rdp.bacteria.bact_full.precluster.tax
    log: logfiles/rdp/filter.bact_full.log
    jobid: 22
    benchmark: benchmarks/rdp/filter.bact_full.txt
    wildcards: ref=rdp, region=bact_full
    resources: procs=2

Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "filter", "local": false, "input": ["data/rdp/rdp.bact_full.fasta", "data/rdp/rdp.bacteria.tax"], "output": ["data/rdp/rdp.bact_full.filter.fasta", "data/rdp/rdp.bact_full.filter.names", "data/rdp/rdp.bact_full.filter.unique.fasta", "data/rdp/rdp.bact_full.filter.unique.precluster.fasta", "data/rdp/rdp.bact_full.filter.unique.precluster.count_table", "data/rdp/rdp.bact_full.filter.unique.precluster.accnos", "data/rdp/rdp.bacteria.bact_full.precluster.tax"], "wildcards": {"ref": "rdp", "region": "bact_full"}, "params": {"tax": "data/rdp/rdp.bacteria.pick.tax"}, "log": ["logfiles/rdp/filter.bact_full.log"], "threads": 1, "resources": {"procs": 2}, "jobid": 22, "cluster": {"account": "pschloss_fluxod", "queue": "fluxod", "jobname": "filter.ref=rdp,region=bact_full", "procs": "2", "pmem": "6GB", "walltime": "12:00:00", "email": "sovacool@umich.edu", "mailon": "a", "jobout": "oe", "outdir": "logfiles/pbs/"}}
cd /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db && \
/home/sovacool/bin/anaconda3/envs/optiFit/bin/python3.6 \
-m snakemake data/rdp/rdp.bact_full.filter.unique.precluster.fasta --snakefile /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/Snakefile \
--force -j --keep-target-files --keep-remote \
--wait-for-files /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5 data/rdp/rdp.bact_full.fasta data/rdp/rdp.bacteria.tax --latency-wait 20 \
 --attempt 1 --force-use-threads \
--wrapper-prefix None \
--directory /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db   --allowed-rules filter --nocolor --notemp --no-hooks --nolock \
--mode 2  && touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/22.jobfinished" || (touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/22.jobfailed"; exit 1)

Submitted job 22 with external jobid '34797067.nyx.arc-ts.umich.edu'.
Checking status of 3 jobs.

[Wed Oct 23 15:08:30 2019]
rule calc_dists:
    input: data/silva/silva.bact_v4.filter.unique.precluster.fasta
    output: results/silva/silva.bact_v4.filter.unique.precluster.dist
    log: logfiles/silva/calc_dists.bact_v4.log
    jobid: 14
    benchmark: benchmarks/silva/calc_dists.bact_v4.txt
    wildcards: ref=silva, region=bact_v4
    resources: procs=12, walltime_hrs=48

Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "calc_dists", "local": false, "input": ["data/silva/silva.bact_v4.filter.unique.precluster.fasta"], "output": ["results/silva/silva.bact_v4.filter.unique.precluster.dist"], "wildcards": {"ref": "silva", "region": "bact_v4"}, "params": {}, "log": ["logfiles/silva/calc_dists.bact_v4.log"], "threads": 1, "resources": {"procs": 12, "walltime_hrs": 48}, "jobid": 14, "cluster": {"account": "pschloss_fluxod", "queue": "fluxod", "jobname": "calc_dists.ref=silva,region=bact_v4", "procs": "12", "pmem": "8GB", "walltime": "48:00:00", "email": "sovacool@umich.edu", "mailon": "a", "jobout": "oe", "outdir": "logfiles/pbs/"}}
cd /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db && \
/home/sovacool/bin/anaconda3/envs/optiFit/bin/python3.6 \
-m snakemake results/silva/silva.bact_v4.filter.unique.precluster.dist --snakefile /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/Snakefile \
--force -j --keep-target-files --keep-remote \
--wait-for-files /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5 data/silva/silva.bact_v4.filter.unique.precluster.fasta --latency-wait 20 \
 --attempt 1 --force-use-threads \
--wrapper-prefix None \
--directory /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db   --allowed-rules calc_dists --nocolor --notemp --no-hooks --nolock \
--mode 2  && touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/14.jobfinished" || (touch "/nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/14.jobfailed"; exit 1)

Submitted job 14 with external jobid '34797068.nyx.arc-ts.umich.edu'.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
Checking status of 5 jobs.
[Wed Oct 23 15:11:31 2019]
Error in rule filter:
    jobid: 7
    output: data/rdp/rdp.bact_v4.filter.fasta, data/rdp/rdp.bact_v4.filter.names, data/rdp/rdp.bact_v4.filter.unique.fasta, data/rdp/rdp.bact_v4.filter.unique.precluster.fasta, data/rdp/rdp.bact_v4.filter.unique.precluster.count_table, data/rdp/rdp.bact_v4.filter.unique.precluster.accnos, data/rdp/rdp.bacteria.bact_v4.precluster.tax
    log: logfiles/rdp/filter.bact_v4.log (check log file(s) for error message)
    shell:
        
        mothur '#set.logfile(name=logfiles/rdp/filter.bact_v4.log); set.dir(input=data/rdp/);
        filter.seqs(fasta=data/rdp/rdp.bact_v4.fasta, trump=., vertical=T, processors=2);
        unique.seqs(fasta=data/rdp/rdp.bact_v4.filter.fasta);
        pre.cluster(fasta=data/rdp/rdp.bact_v4.filter.unique.fasta, name=data/rdp/rdp.bact_v4.filter.names, diffs=2, processors=2);
        list.seqs(fasta=data/rdp/rdp.bact_v4.filter.unique.precluster.fasta);
        get.seqs(taxonomy=data/rdp/rdp.bacteria.tax, accnos=current) '
        mv data/rdp/rdp.bacteria.pick.tax data/rdp/rdp.bacteria.bact_v4.precluster.tax
        
        (exited with non-zero exit code)
    cluster_jobid: 34797065.nyx.arc-ts.umich.edu

Error executing rule filter on cluster (jobid: 7, external: 34797065.nyx.arc-ts.umich.edu, jobscript: /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/tmp.z7heegu5/snakejob.filter.7.sh). For detailed error see the cluster log.
Cleanup job metadata.
[Wed Oct 23 15:11:31 2019]
Finished job 22.
1 of 23 steps (4%) done
Checking status of 3 jobs.
[Wed Oct 23 15:11:41 2019]
Finished job 14.
2 of 23 steps (9%) done
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
Checking status of 2 jobs.
[Wed Oct 23 15:22:12 2019]
Finished job 26.
3 of 23 steps (13%) done
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
Checking status of 1 jobs.
[Wed Oct 23 15:26:43 2019]
Finished job 17.
4 of 23 steps (17%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /nfs/turbo/schloss-lab/sovacool/optiFit/subworkflows/0_prep_db/.snakemake/log/2019-10-23T150816.767702.snakemake.log
unlocking
removing lock
removing lock
removed all locks
unlocking
removing lock
removing lock
removed all locks
